# Production Environment Configuration for Contract Deployer API Service
# This file serves as a template for production deployment
# All sensitive values should be stored in AWS SSM Parameter Store

# Server Configuration
NODE_ENV=production
PORT=8002
SERVICE_NAME=contract-deployer-api

# Redis Configuration (ElastiCache)
# Retrieved from SSM: /hokusai/development/contracts/redis_url
REDIS_URL=${SSM_REDIS_URL}
REDIS_RETRY_ATTEMPTS=3
REDIS_RETRY_DELAY=1000

# Blockchain Configuration
# Retrieved from SSM: /hokusai/development/contracts/rpc_endpoint
RPC_URL=${SSM_RPC_ENDPOINT}
RPC_URLS=${SSM_RPC_ENDPOINT}
NETWORK_NAME=polygon-mainnet
CHAIN_ID=137

# Contract Addresses
# Retrieved from SSM: /hokusai/development/contracts/model_registry_address
MODEL_REGISTRY_ADDRESS=${SSM_MODEL_REGISTRY_ADDRESS}
# Retrieved from SSM: /hokusai/development/contracts/token_manager_address
TOKEN_MANAGER_ADDRESS=${SSM_TOKEN_MANAGER_ADDRESS}

# Deployment Configuration
# Retrieved from SSM: /hokusai/development/contracts/deployer_key
DEPLOYER_PRIVATE_KEY=${SSM_DEPLOYER_KEY}
DEFAULT_GAS_LIMIT=5000000
GAS_PRICE_MULTIPLIER=1.2
MAX_GAS_PRICE=500000000000
MIN_CONFIRMATIONS=2
CONFIRMATION_TIMEOUT=300000

# API Configuration
# Retrieved from SSM: /hokusai/development/contracts/api_keys
API_KEYS=${SSM_API_KEYS}
# Retrieved from SSM: /hokusai/development/contracts/jwt_secret
JWT_SECRET=${SSM_JWT_SECRET}
ENABLE_AUTH=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=3600000
RATE_LIMIT_MAX_REQUESTS_PER_HOUR=5
RATE_LIMIT_MAX_REQUESTS_PER_DAY=20

# CORS Configuration
CORS_ENABLED=true
CORS_ORIGINS=https://app.hokus.ai,https://hokus.ai,https://admin.hokus.ai

# Monitoring & Logging
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_METRICS=true
METRICS_PORT=9091

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Queue Configuration (for listener mode)
QUEUE_PREFIX=hokusai
MODEL_READY_QUEUE=model_ready_queue
TOKEN_DEPLOYED_QUEUE=token_deployed_queue
DLQ_NAME=dlq
PROCESSING_QUEUE=processing_queue
MAX_RETRIES=3
RETRY_DELAY=5000

# Webhook Configuration (optional)
# Retrieved from SSM if configured: /hokusai/development/contracts/webhook_url
WEBHOOK_URL=${SSM_WEBHOOK_URL}
# Retrieved from SSM if configured: /hokusai/development/contracts/webhook_secret
WEBHOOK_SECRET=${SSM_WEBHOOK_SECRET}
WEBHOOK_TIMEOUT=5000

# AWS Configuration
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=932100697590

# CloudWatch Configuration
CLOUDWATCH_LOG_GROUP=/ecs/hokusai-contracts
CLOUDWATCH_LOG_STREAM_PREFIX=contract-deployer-api

# Feature Flags
ENABLE_DEPLOYMENT_SIMULATION=false
ENABLE_DRY_RUN=false
ENABLE_WEBHOOK_NOTIFICATIONS=true

# Performance Tuning
MAX_CONCURRENT_DEPLOYMENTS=10
DEPLOYMENT_QUEUE_SIZE=100
CONNECTION_POOL_SIZE=10

# Security
HELMET_ENABLED=true
TRUST_PROXY=true

# Development/Debug (should be false in production)
DEBUG=false
VERBOSE_LOGGING=false